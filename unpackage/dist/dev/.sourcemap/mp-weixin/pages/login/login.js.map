{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/project/小程序/仿社区交友/pages/login/login.vue?b173","webpack:///E:/project/小程序/仿社区交友/pages/login/login.vue?7e99","webpack:///E:/project/小程序/仿社区交友/pages/login/login.vue?234a","uni-app:///pages/login/login.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;;;AAGpD;AAC4N;AAC5N,gBAAgB,kOAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAk3B,CAAgB,w3BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8Ft4B;AACA;AACA,8BADA;AAEA,0BAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA,mBADA;AAEA,kBAFA;AAGA,kBAHA;AAIA,eAJA;AAKA,cALA;AAMA,iBANA;;AAQA,GAdA;AAeA;AACA,YADA,sBACA;AACA;AACA;AACA;AACA;AACA,KANA,EAfA;;AAuBA;AACA,QADA,kBACA;AACA;AACA,gBADA;;AAGA,KALA;AAMA;AACA,YAPA,sBAOA;AACA;AACA;AACA;AACA;AACA,KAZA;AAaA,gBAbA,0BAaA;AACA;AACA;AACA,KAhBA;AAiBA;AACA,WAlBA,qBAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAPA,EAOA,IAPA;AAQA,KA/BA;AAgCA;AACA,YAjCA,sBAiCA;AACA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,KA5CA;AA6CA,OA7CA,eA6CA,MA7CA,EA6CA,MA7CA,EA6CA;AACA;AACA;AACA,6BADA;AAEA;AACA,2BADA;AAEA;AACA,uCADA;AAEA,uCAFA,EAFA,EAFA;;;AASA,iBATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA,WAbA;AAcA,cAdA,gBAcA,GAdA,EAcA;AACA;AACA,WAhBA;;AAkBA,OAnBA;AAoBA,KAlEA;AAmEA;AACA,UApEA,oBAoEA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA,OAJA;AAKA;AACA,KA9EA;AA+EA,YA/EA,sBA+EA;AACA;AACA,6BADA;AAEA;AACA,0BADA,EAFA;;AAKA,eALA,mBAKA,GALA,EAKA;AACA;AACA,SAPA;;AASA,KAzFA,EAvBA,E","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=b237504c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\ZERO\\\\Downloads\\\\HBuilderX.2.9.8.20201110.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\r\n\t\t<uni-status-bar></uni-status-bar>\n\t\t<view class=\"iconfont icon-guanbi flex align-center justify-center font-lg\" \r\n\t\thover-class=\"bg-light\"\r\n\t\t@click=\"back\"\r\n\t\tstyle=\"width: 100rpx;height: 100rpx;\">\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"text-center\" style=\"padding-top: 130rpx;padding-bottom: 70rpx;font-size: 55rpx;\">\r\n\t\t\t{{status ? '手机验证码登录' : '账号密码登录'}}\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"px-2\">\r\n\t\t\t<template v-if=\"!status\">\r\n\t\t\t\t<view class=\"mb-2\">\r\n\t\t\t\t\t<input v-model=\"username\" type=\"text\" placeholder=\"昵称/手机号/邮箱\" class=\"border-bottom p-2\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mb-2 flex align-stretch\">\r\n\t\t\t\t\t<input v-model=\"password\" type=\"text\" placeholder=\"请输入密码\" value=\"\"\r\n\t\t\t\t\t class=\"border-bottom p-2 flex-1\"/>\r\n\t\t\t\t\t<view class=\"border-bottom flex align-center justify-center font text-muted\" style=\"width: 150rpx;\">\r\n\t\t\t\t\t\t忘记密码？\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<template v-else>\r\n\t\t\t\t<view class=\"mb-2 flex align-stretch\">\r\n\t\t\t\t\t<view class=\"border-bottom flex align-center justify-center font px-2\">\r\n\t\t\t\t\t\t+86\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<input v-model=\"phone\" type=\"text\" placeholder=\"手机号\" class=\"border-bottom p-2 flex-1\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mb-2 flex align-stretch\">\r\n\t\t\t\t\t<input v-model=\"code\" type=\"text\" placeholder=\"请输入验证码\" value=\"\"\r\n\t\t\t\t\t class=\"border-bottom p-2 flex-1\"/>\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t@click=\"getCode\"\r\n\t\t\t\t\t:class=\"codeTime > 0 ? 'bg-main-disabled' : 'bg-main'\"\r\n\t\t\t\t\tclass=\"border-bottom flex align-center justify-center font-sm text-white\" style=\"width: 180rpx;\">\r\n\t\t\t\t\t\t{{codeTime > 0 ? codeTime + 's' : '获取验证码'}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"py-2 px-3\">\r\n\t\t\t<button class=\"bg-main text-white\"\r\n\t\t\t style=\"border-radius: 50rpx;border:0\"\r\n\t\t\t type=\"primary\"\r\n\t\t\t :class=\"disabled ? 'bg-main-disabled' : ''\"\r\n\t\t\t @click=\"submit\"\r\n\t\t\t :disabled=\"disabled\">登录</button>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"flex align-center justify-center pt-2 pb-4\">\r\n\t\t\t<view class=\"text-primary font-sm\" @click=\"changeStatus\">\r\n\t\t\t\t{{status ? '账号密码登录' : '手机号登录'}}\r\n\t\t\t</view>\r\n\t\t\t<text class=\"text-muted mx-2\">\r\n\t\t\t\t|\r\n\t\t\t</text>\r\n\t\t\t<view class=\"text-primary font-sm\" @click=\"oneLogin\">\r\n\t\t\t\t一键登录\r\n\t\t\t</view>\r\n\t\t\t<text class=\"text-muted mx-2\">\r\n\t\t\t\t|\r\n\t\t\t</text>\r\n\t\t\t<view class=\"text-primary font-sm\">\r\n\t\t\t\t登录遇到问题\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<view class=\"flex align-center justify-center\">\r\n\t\t\t<view style=\"height: 1rpx;background-color: #dddddd;width: 100rpx;\"></view>\r\n\t\t\t<view class=\"mx-2 text-muted\">\r\n\t\t\t\t社交账号登录\r\n\t\t\t</view>\r\n\t\t\t<view style=\"height: 1rpx;background-color: #dddddd;width: 100rpx;\"></view>\r\n\t\t</view>\r\n\t\t\t\t\r\n\t\t<otherLogin></otherLogin>\r\n\t\t\r\n\t\t<view class=\"flex align-center justify-center text-muted\">\r\n\t\t\t注册即代表同意<text class=\"text-primary\">《xxx社区协议》</text>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\n\t</view>\n</template>\n\n<script>\r\n\timport uniStatusBar from '../../components/uni-ui/uni-status-bar/uni-status-bar.vue'\n\timport otherLogin from '../../components/common/other-login.vue'\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tuniStatusBar,\r\n\t\t\totherLogin\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tstatus : false,\r\n\t\t\t\tusername : \"\",\r\n\t\t\t\tpassword : \"\",\r\n\t\t\t\tphone : \"\",\r\n\t\t\t\tcode : \"\",\r\n\t\t\t\tcodeTime : 0\n\t\t\t}\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tdisabled(){\r\n\t\t\t\tif((this.username == false || this.password == false) && (this.phone == false || this.code == false)){\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t},\n\t\tmethods: {\n\t\t\tback(){\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta:1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 初始化表单\r\n\t\t\tinitForm(){\r\n\t\t\t\tthis.username = '';\r\n\t\t\t\tthis.password = '';\r\n\t\t\t\tthis.phone = '';\r\n\t\t\t\tthis.code = '';\r\n\t\t\t},\r\n\t\t\tchangeStatus(){\r\n\t\t\t\tthis.initForm()\r\n\t\t\t\tthis.status = !this.status;\r\n\t\t\t},\r\n\t\t\t// 获取验证码\r\n\t\t\tgetCode(){\r\n\t\t\t\tif(this.codeTime > 0){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.codeTime = 60;\r\n\t\t\t\tlet timer = setInterval(() => {\r\n\t\t\t\t\tif(this.codeTime >= 1){\r\n\t\t\t\t\t\tthis.codeTime--\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.codeTime = 0;\r\n\t\t\t\t\t\tclearInterval(timer)\r\n\t\t\t\t\t}\r\n\t\t\t\t},1000)\r\n\t\t\t},\r\n\t\t\t// 表单验证\r\n\t\t\tvalidate(){\r\n\t\t\t\tlet mPattern = /^1[34578]d{9}$/;\r\n\t\t\t\tif(this.status && !mPattern.test(this.phone)){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle : '手机号格式错误',\r\n\t\t\t\t\t\ticon : 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\t// 更多验证\r\n\t\t\t\treturn true\r\n\t\t\t},\r\n\t\t\treq(action,params){\r\n\t\t\t\treturn new Promise((resolve,reject) => {\r\n\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\tname:\"user-center\",\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\taction : 'login',\r\n\t\t\t\t\t\t\tparams : {\r\n\t\t\t\t\t\t\t\tusername : params.username,\r\n\t\t\t\t\t\t\t\tpassword : params.password\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tuni.setStorageSync('uni_id_token',res.result.token);\r\n\t\t\t\t\t\t\tuni.setStorageSync('uni_id_token_expired',res.result.tokenExpired);\r\n\t\t\t\t\t\t\tresolve('ok')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\treject('fail')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 登录\r\n\t\t\tsubmit(){\r\n\t\t\t\t// 表单验证\r\n\t\t\t\tif(!this.validate())return;\r\n\t\t\t\t// 提交后端\r\n\t\t\t\tthis.req('login',{username:this.username,password:this.password}).then(() => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle : '登录成功'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// 登录成功处理\r\n\t\t\t},\r\n\t\t\toneLogin(){\r\n\t\t\t\tuni.login({\r\n\t\t\t\t    provider: 'univerify',\r\n\t\t\t\t    univerifyStyle: { \r\n\t\t\t\t\t\tfullScreen: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}